<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ComicCore — Reaction Images Config</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
* { box-sizing: border-box; }
body { margin: 0; font-family: 'Inter', sans-serif; background: #0f0f11; color: #f5f5f7; min-height: 100dvh; padding-bottom: 60px; }

.header {
  position: sticky; top: 0; z-index: 200;
  background: rgba(0,0,0,.97); padding: 16px 16px 14px;
  border-bottom: 1px solid #1e1e20; backdrop-filter: blur(20px);
  display: flex; align-items: center; gap: 14px;
}
.header h1 { font-size: 16px; font-weight: 900; margin: 0; flex: 1; }
.badge { background: #ff7a00; color: #000; font-size: 10px; font-weight: 900; padding: 3px 10px; border-radius: 20px; }

.dev-note {
  margin: 16px; background: #111; border: 1.5px solid rgba(255,122,0,.3);
  border-radius: 16px; overflow: hidden;
}
.dev-note-header {
  background: rgba(255,122,0,.12); border-bottom: 1px solid rgba(255,122,0,.2);
  padding: 11px 16px; font-size: 12px; font-weight: 900; color: #ff7a00; text-transform: uppercase; letter-spacing: .5px;
}
.dev-note-body { padding: 14px 16px; font-size: 13px; color: #888; line-height: 1.8; }
.dev-note-body code {
  background: #1a1a1c; border: 1px solid #2a2a2c; border-radius: 6px;
  padding: 2px 8px; font-family: 'Courier New', monospace; font-size: 12px; color: #ff7a00;
}

.section-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 16px 10px;
}
.section-title { font-size: 12px; font-weight: 900; color: #444; text-transform: uppercase; letter-spacing: 1px; }
.count-pill { font-size: 11px; color: #ff7a00; font-weight: 900; background: rgba(255,122,0,.1); border: 1px solid rgba(255,122,0,.2); padding: 3px 10px; border-radius: 20px; }

.images-grid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 4px; padding: 0 16px;
}
@media (min-width: 480px) { .images-grid { grid-template-columns: repeat(4, 1fr); } }

.image-item {
  position: relative; aspect-ratio: 1; background: #111; border-radius: 10px;
  overflow: hidden; border: 1.5px solid #1a1a1c;
}
.image-item img { width: 100%; height: 100%; object-fit: cover; display: block; }
.image-item .name-tag {
  position: absolute; bottom: 0; left: 0; right: 0;
  background: rgba(0,0,0,.82); font-size: 9px; font-weight: 800; color: #aaa;
  padding: 4px 5px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden;
}
.image-item .num-tag {
  position: absolute; top: 4px; left: 4px;
  background: rgba(0,0,0,.7); color: #555; border-radius: 5px;
  font-size: 9px; font-weight: 900; padding: 2px 5px;
}
.image-item.broken { border-color: rgba(255,59,48,.3); }
.broken-badge {
  position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
  font-size: 20px; pointer-events: none;
}

.sync-bar {
  margin: 16px; padding: 12px 16px; background: #111; border: 1px solid #1e1e20;
  border-radius: 12px; display: flex; align-items: center; justify-content: space-between;
  font-size: 12px; color: #555;
}
.sync-status { display: flex; align-items: center; gap: 8px; font-weight: 700; }
.sync-dot { width: 8px; height: 8px; border-radius: 50%; background: #32d74b; flex-shrink: 0; }

.empty-state { padding: 48px 20px; text-align: center; color: #333; font-size: 13px; line-height: 1.8; grid-column: 1/-1; }
</style>
</head>
<body>

<div class="header">
  <button onclick="history.back()" style="background:none;border:none;color:#666;font-size:20px;cursor:pointer;padding:0;">←</button>
  <h1>Reaction Images</h1>
  <span class="badge">DEV ONLY</span>
</div>

<div class="dev-note">
  <div class="dev-note-header">✏️ How to add images</div>
  <div class="dev-note-body">
    Open this file in a code editor and find the <code>REACTION_IMAGES</code> array at the top of the script tag.
    Add entries like: <code>{ name: 'label', src: 'https://…' }</code> — one per line.
    Save and reload — images will instantly appear in the comment reaction tray for everyone.
  </div>
</div>

<div class="sync-bar">
  <div class="sync-status">
    <div class="sync-dot" id="sync-dot"></div>
    <span id="sync-label">Syncing…</span>
  </div>
  <span id="sync-time"></span>
</div>

<div class="section-header">
  <div class="section-title">Live Reaction Library</div>
  <div class="count-pill" id="count-pill">0 images</div>
</div>

<div class="images-grid" id="images-grid">
  <div class="empty-state">Loading…</div>
</div>

<script>
// ══════════════════════════════════════════════════════════
//  ✏️  ADD YOUR IMAGE LINKS HERE — just paste URLs & labels
// ══════════════════════════════════════════════════════════
const REACTION_IMAGES = [
  // { name: 'nuke the whole generation',  src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349562855129148/IMG_1823.png?ex=699d29da&is=699bd85a&hm=814398268355f95fd3abc441b2b8a82f01715e19951e6626a2c57bed627305c9&=&format=webp&quality=lossless&width=1078&height=747' },
  // { name: 'who is this',      src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349562540687505/IMG_1824.png?ex=699d29da&is=699bd85a&hm=9abb595c242571dbf2cdb3ee9ead3f743e75bc6b23ea66f3b3669497f00fc080&=&format=webp&quality=lossless&width=928&height=747' },
  // { name: 'sipping lex luthor',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349562297155654/IMG_1825.png?ex=699d29da&is=699bd85a&hm=e5a54325906c49431f1c29c3b7bfcd9bfffa4f22a8ca9a752b0e156846b11667&=&format=webp&quality=lossless&width=1020&height=747' },
  // { name: 'read',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349562049695836/IMG_1826.png?ex=699d29da&is=699bd85a&hm=3069350608e572e9716c8b6c1b159783bab1095d737ccf756d61d5d6a7707258&=&format=webp&quality=lossless' },
  // { name: 'sobbing man',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349561693307112/IMG_1827.png?ex=699d29da&is=699bd85a&hm=70e50b7762c4a8f438c9f00e6356856b9d1b0a44e931f1f5ad8d042f81ce49e5&=&format=webp&quality=lossless&width=603&height=747' },
  // { name: 'thinking',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349549005541376/IMG_1831.png?ex=699d29d7&is=699bd857&hm=9126a17b3dd54924c38d5b17f64b73de61e2d75f9adf95a1bb8edb167e3f387b&=&format=webp&quality=lossless' },
  // { name: 'gem found',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349548737237102/IMG_1832.png?ex=699d29d7&is=699bd857&hm=0143f2eb8c628fed458315089dded9437b3fb644ba036763ad24e94e5592db3f&=&format=webp&quality=lossless&width=784&height=747' },
  // { name: 'flight interested',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349548468535346/IMG_1833.png?ex=699d29d7&is=699bd857&hm=46e818dd12315fd5baeb433ebd524b395efa2a7a80bb8ff3eb968c515c37fac5&=&format=webp&quality=lossless&width=784&height=747' },
  // { name: 'spongebob phone',   src: 'https://media.discordapp.net/attachments/1472088820584419450/1475349549622231122/IMG_1829.png?ex=699d29d7&is=699bd857&hm=1a0c0f77fbf198ac858929882911ab00f54672baf4eccc6d89fe0cf1466a3a01&=&format=webp&quality=lossless&width=1031&height=747' },
  // Keep adding as many as you want below:

];
// ══════════════════════════════════════════════════════════

function escHtml(s) {
  return String(s || '').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

function syncToStorage() {
  const valid = REACTION_IMAGES.filter(i => i && i.name && i.src);
  localStorage.setItem('cc-reaction-images', JSON.stringify(valid));
  return valid;
}

function renderGrid() {
  const images = syncToStorage();
  const count  = images.length;
  const grid   = document.getElementById('images-grid');

  document.getElementById('count-pill').innerText = count + ' image' + (count !== 1 ? 's' : '');
  document.getElementById('sync-label').innerText = count
    ? `✓ ${count} image${count !== 1 ? 's' : ''} synced to app`
    : 'No images — add URLs to the array in the code';
  document.getElementById('sync-time').innerText = 'Updated ' + new Date().toLocaleTimeString();

  if (!count) {
    grid.innerHTML = `<div class="empty-state">
      No reaction images yet.<br>
      Open this file in a code editor and paste image URLs into<br>
      <strong style="color:#ff7a00;">REACTION_IMAGES</strong> array at the top of the script.
    </div>`;
    return;
  }

  grid.innerHTML = images.map((img, i) => `
    <div class="image-item" id="img-item-${i}">
      <img src="${escHtml(img.src)}" loading="lazy"
           onerror="markBroken(${i})"
           alt="${escHtml(img.name)}">
      <div class="num-tag">${i + 1}</div>
      <div class="name-tag">${escHtml(img.name)}</div>
    </div>
  `).join('');
}

function markBroken(i) {
  const el = document.getElementById('img-item-' + i);
  if (!el) return;
  el.classList.add('broken');
  const b = document.createElement('div');
  b.className = 'broken-badge';
  b.innerText = '⚠️';
  el.appendChild(b);
}

renderGrid();
</script>
</body>
</html>